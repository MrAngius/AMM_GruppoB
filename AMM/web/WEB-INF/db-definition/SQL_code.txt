CREATE TABLE cliente (
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	nome VARCHAR(128),
	cognome VARCHAR(128),
	username VARCHAR(128) UNIQUE,
	user_password VARCHAR(128),
	conto DOUBLE PRECISION
);


CREATE TABLE venditore (
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	nome VARCHAR(128),
	cognome VARCHAR(128),
	username VARCHAR(128) UNIQUE,
	user_password VARCHAR(128),
	conto DOUBLE PRECISION
);

CREATE TABLE oggetto_vendita(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	nome VARCHAR(128),
	descrizione VARCHAR(256),
	url VARCHAR(256),
	prezzo DOUBLE PRECISION, 
	quantita INTEGER,
	id_venditore INTEGER,
	FOREIGN KEY (id_venditore) REFERENCES venditore(id)
);

CREATE TABLE acquisto(
	id_cliente INTEGER,
	id_oggetto INTEGER,
        quantita INTEGER,
	FOREIGN KEY (id_cliente) REFERENCES cliente(id),
	FOREIGN KEY (id_oggetto) REFERENCES oggetto_vendita(id),
        PRIMARY KEY (id_cliente, id_oggetto)
);



INSERT INTO cliente (id, nome, cognome, username, user_password, conto)
VALUES (default, 'Daniele','Caschili','DCaschili','password', 50.0),
(default, 'Marco','Angius','MrAngius','password', 550.0),
(default, 'Federico','Porra','MrPorra','password', 230.0);

INSERT INTO venditore (id, nome, cognome, username, user_password, conto)
VALUES (default, 'Cors','Air','Corxair','pirata', 1000.0),
(default, 'Steve','Jobs','SXJB','apple', 1000000.0),
(default, 'Amazon','Prime','ammazzino','kindle', 200.0);


INSERT INTO oggetto_vendita (id, nome, descrizione, url, prezzo, quantita, id_venditore)
VALUES (default, 'Case Corsair Titanium','Innovativo case dal design moderno','images/case.jpg',120.0 ,4, 1),
(default, 'Alimentatore Corsair AX760','Alimentatore modulare 80 plus platinum, con efficienza fino al 97% a carico','images/alimentatore.jpg', 150.0 , 5, 2),
(default, 'Ventola Corsair AFX','Innovativa ventola 120x120 cm, 800 mm^3 aria al minuto','images/ventola.jpg', 15.0 ,7, 1),
(default, 'Dissipatore a Liquido Corsair H60','Fantastico dissipatore della classe hydro, con pompa integrata e radiatore da 200 mm','images/dissipatore.jpg', 100.0 ,5, 1),
(default, 'Ram Corsair LPX DDR4 8Gb','Banco di memoria fino a 2400Hz a doppio canale','images/ram.jpg', 70.0 , 6, 2);

